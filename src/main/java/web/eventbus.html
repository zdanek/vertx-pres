<!DOCTYPE html>
<html>
<head>
    <script src="js/jquery-1.9.0.min.js"></script>
    <script src="js/sockjs-0.3.js"></script>
    <script src="js/vertxbus.js"></script>

    <title>EventBus example</title>

    <script type="text/javascript">
        $(document).ready(function() {

            var eb = new vertx.EventBus(window.location.protocol + '//' + window.location.hostname + ':' + window.location.port + '/eventbus');

            eb.onopen = function() {
                console.log('EB open')
                eb.registerHandler('web.client', function(messageFromPublisher) {
                    console.log('Message from backed: ' + messageFromPublisher);
                    $('div#messages').append(messageFromPublisher + "<br />")
                })
            }
        })
    </script>


</head>
<body>
<div style="font-size: 30px; color: blueviolet">Vert.x EventBus on Client side!</div>
<img src="vertx-logo.png" />
<div id="messages" style="font-size: 20px; color: brown">Here come the news!<br /></div>

</body>
</html>
